
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>sleap.nn.data.dataset_ops &#8212; SLEAP (v1.2.8)</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <link rel="canonical" href="/develop/api/sleap.nn.data.dataset_ops.html" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">SLEAP (v1.2.8)</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Home
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../tutorials/tutorial.html">
   Tutorial
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorials/new-project.html">
     Creating a project
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorials/initial-labeling.html">
     Initial Labeling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorials/initial-training.html">
     Training and Inference
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorials/assisted-labeling.html">
     Prediction-assisted labeling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorials/proofreading.html">
     Tracking instances across frames
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorials/analysis.html">
     Export Data For Analysis
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../guides/index.html">
   Guides
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/gui.html">
     GUI
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/cli.html">
     Command line interfaces
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/troubleshooting-workflows.html">
     Troubleshooting workflows
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/skeletons.html">
     Skeleton design
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/choosing-models.html">
     Configuring models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/merging.html">
     Importing predictions for labeling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/proofreading.html">
     Tracking and proofreading
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/colab.html">
     Run training and inference on Colab
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/custom-training.html">
     Creating a custom training profile
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/remote.html">
     Running SLEAP remotely
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../notebooks/index.html">
   Notebooks
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/Training_and_inference_on_an_example_dataset.html">
     Training and inference on an example dataset
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/Training_and_inference_using_Google_Drive.html">
     Training and inference on your own data using Google Drive
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/Model_evaluation.html">
     Model evaluation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/Analysis_examples.html">
     Analysis examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/Data_structures.html">
     Data structures
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/Post_inference_tracking.html">
     Post-inference tracking
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/Interactive_and_resumable_training.html">
     Interactive and resumable training
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebooks/Interactive_and_realtime_inference.html">
     Interactive and realtime inference
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../api.html">
   Developer API
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="simple">
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../datasets.html">
   Datasets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://github.com/talmolab/sleap">
   GitHub
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://github.com/talmolab/sleap/releases">
   Releases
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../help.html">
   Help
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/talmolab/sleap"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/talmolab/sleap/issues/new?title=Issue%20on%20page%20%2Fapi/sleap.nn.data.dataset_ops.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>sleap.nn.data.dataset_ops</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="module-sleap.nn.data.dataset_ops">
<span id="sleap-nn-data-dataset-ops"></span><h1>sleap.nn.data.dataset_ops<a class="headerlink" href="#module-sleap.nn.data.dataset_ops" title="Permalink to this headline">#</a></h1>
<p>Transformers for dataset (multi-example) operations, e.g., shuffling and batching.</p>
<p>These are mostly wrappers for standard tf.data.Dataset ops.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Batcher">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sleap.nn.data.dataset_ops.</span></span><span class="sig-name descname"><span class="pre">Batcher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_remainder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unrag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L76-L158"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Batcher" title="Permalink to this definition">#</a></dt>
<dd><p>Batching transformer for use in pipelines.</p>
<p>This class enables variable-length example keys to be batched by converting them to
ragged tensors prior to concatenation, then converting them back to dense tensors.</p>
<p>See the notes in the <code class="xref py py-obj docutils literal notranslate"><span class="pre">Shuffling</span></code> and <a class="reference internal" href="#sleap.nn.data.dataset_ops.Repeater" title="sleap.nn.data.dataset_ops.Repeater"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Repeater</span></code></a> transformers if training. If using
in inference, this transformer will be used on its own without dropping remainders.</p>
<dl class="simple">
<dt>The ideal (training) pipeline follows the order:</dt><dd><p>shuffle -&gt; batch -&gt; repeat</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Batcher.batch_size">
<span class="sig-name descname"><span class="pre">batch_size</span></span><a class="headerlink" href="#sleap.nn.data.dataset_ops.Batcher.batch_size" title="Permalink to this definition">#</a></dt>
<dd><p>Number of elements within a batch. Every key will be stacked within
their first axis (with expansion) such that it has <a class="reference internal" href="#sleap.nn.data.dataset_ops.Batcher.batch_size" title="sleap.nn.data.dataset_ops.Batcher.batch_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">batch_size</span></code></a> length.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Batcher.drop_remainder">
<span class="sig-name descname"><span class="pre">drop_remainder</span></span><a class="headerlink" href="#sleap.nn.data.dataset_ops.Batcher.drop_remainder" title="Permalink to this definition">#</a></dt>
<dd><p>If True, final elements with fewer than <a class="reference internal" href="#sleap.nn.data.dataset_ops.Batcher.batch_size" title="sleap.nn.data.dataset_ops.Batcher.batch_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">batch_size</span></code></a> examples
will be dropped once the end of the input dataset iteration is reached. This
should be True for training and False for inference.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Batcher.unrag">
<span class="sig-name descname"><span class="pre">unrag</span></span><a class="headerlink" href="#sleap.nn.data.dataset_ops.Batcher.unrag" title="Permalink to this definition">#</a></dt>
<dd><p>If False, any tensors that were of variable length will be left as
<a href="#id1"><span class="problematic" id="id2">`</span></a>tf.RaggedTensor`s. If True, the tensors will be converted to full tensors
with NaN padding. Leaving tensors as ragged is useful when downstream ops
will continue to use them in variable length form.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Batcher.input_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.Batcher.input_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Batcher.output_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.Batcher.output_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Batcher.transform_dataset">
<span class="sig-name descname"><span class="pre">transform_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L114-L158"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Batcher.transform_dataset" title="Permalink to this definition">#</a></dt>
<dd><p>Create a dataset with batched elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_input</strong> – Any dataset that produces dictionaries keyed by strings and values
with any rank tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">tf.data.Dataset</span></code> with elements containing the same keys, but with each
tensor promoted to 1 rank higher (except for scalars with rank 0 will be
promoted to rank 2).</p>
<p>The keys of each element will contain <a class="reference internal" href="#sleap.nn.data.dataset_ops.Batcher.batch_size" title="sleap.nn.data.dataset_ops.Batcher.batch_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">batch_size</span></code></a> individual elements
stacked along the axis 0, such that length (<code class="xref py py-obj docutils literal notranslate"><span class="pre">shape[0]</span></code>) is equal to
<a class="reference internal" href="#sleap.nn.data.dataset_ops.Batcher.batch_size" title="sleap.nn.data.dataset_ops.Batcher.batch_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">batch_size</span></code></a>.</p>
<p>Any keys that had variable length elements within the batch will be padded
with NaNs to the size of the largest element’s length for that key.</p>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.LambdaFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sleap.nn.data.dataset_ops.</span></span><span class="sig-name descname"><span class="pre">LambdaFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter_fn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">tensorflow.python.framework.ops.Tensor</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L324-L362"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.LambdaFilter" title="Permalink to this definition">#</a></dt>
<dd><p>Transformer for filtering examples out of a dataset.</p>
<p>This class is useful for eliminating examples that fail to meet some criteria, e.g.,
when no peaks are found.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.LambdaFilter.filter_fn">
<span class="sig-name descname"><span class="pre">filter_fn</span></span><a class="headerlink" href="#sleap.nn.data.dataset_ops.LambdaFilter.filter_fn" title="Permalink to this definition">#</a></dt>
<dd><p>Callable that takes an example dictionary as input and returns True
if the the element should be kept.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Callable[[Dict[str, tensorflow.python.framework.ops.Tensor]], bool]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.LambdaFilter.input_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.LambdaFilter.input_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.LambdaFilter.output_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.LambdaFilter.output_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.LambdaFilter.transform_dataset">
<span class="sig-name descname"><span class="pre">transform_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L347-L362"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.LambdaFilter.transform_dataset" title="Permalink to this definition">#</a></dt>
<dd><p>Create a dataset with filtering applied.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_input</strong> – Any dataset that produces dictionaries keyed by strings and values
with any rank tensors.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">tf.data.Dataset</span></code> with elements containing the same keys, but with
potentially fewer elements.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Prefetcher">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sleap.nn.data.dataset_ops.</span></span><span class="sig-name descname"><span class="pre">Prefetcher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefetch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L232-L272"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Prefetcher" title="Permalink to this definition">#</a></dt>
<dd><p>Prefetching transformer for use in pipelines.</p>
<p>Prefetches elements from the input dataset to minimize the processing bottleneck
as elements are requested since prefetching can occur in parallel.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Prefetcher.prefetch">
<span class="sig-name descname"><span class="pre">prefetch</span></span><a class="headerlink" href="#sleap.nn.data.dataset_ops.Prefetcher.prefetch" title="Permalink to this definition">#</a></dt>
<dd><p>If False, returns the input dataset unmodified.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Prefetcher.buffer_size">
<span class="sig-name descname"><span class="pre">buffer_size</span></span><a class="headerlink" href="#sleap.nn.data.dataset_ops.Prefetcher.buffer_size" title="Permalink to this definition">#</a></dt>
<dd><p>Keep <a class="reference internal" href="#sleap.nn.data.dataset_ops.Prefetcher.buffer_size" title="sleap.nn.data.dataset_ops.Prefetcher.buffer_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">buffer_size</span></code></a> elements loaded in the buffer. If set to -1
(<code class="xref py py-obj docutils literal notranslate"><span class="pre">tf.data.experimental.AUTOTUNE</span></code>), this value will be optimized
automatically to decrease latency.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Prefetcher.input_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.Prefetcher.input_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Prefetcher.output_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.Prefetcher.output_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Prefetcher.transform_dataset">
<span class="sig-name descname"><span class="pre">transform_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L258-L272"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Prefetcher.transform_dataset" title="Permalink to this definition">#</a></dt>
<dd><p>Create a dataset with prefetching to maintain a buffer during iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_input</strong> – Any dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">tf.data.Dataset</span></code> with identical elements. Processing that occurs with the
elements that are produced can be done in parallel (e.g., training on the
GPU) while new elements are generated from the pipeline.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Preloader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sleap.nn.data.dataset_ops.</span></span><span class="sig-name descname"><span class="pre">Preloader</span></span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L276-L320"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Preloader" title="Permalink to this definition">#</a></dt>
<dd><p>Preload elements of the underlying dataset to generate in-memory examples.</p>
<p>This transformer can lead to considerable performance improvements at the cost of
memory consumption.</p>
<p>This is functionally equivalent to <code class="xref py py-obj docutils literal notranslate"><span class="pre">tf.data.Dataset.cache</span></code>, except the cached
examples are accessible directly via the <a class="reference internal" href="#sleap.nn.data.dataset_ops.Preloader.examples" title="sleap.nn.data.dataset_ops.Preloader.examples"><code class="xref py py-obj docutils literal notranslate"><span class="pre">examples</span></code></a> attribute.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Preloader.examples">
<span class="sig-name descname"><span class="pre">examples</span></span><a class="headerlink" href="#sleap.nn.data.dataset_ops.Preloader.examples" title="Permalink to this definition">#</a></dt>
<dd><p>Stored list of preloaded elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Preloader.input_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.Preloader.input_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Preloader.output_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.Preloader.output_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Preloader.transform_dataset">
<span class="sig-name descname"><span class="pre">transform_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L301-L320"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Preloader.transform_dataset" title="Permalink to this definition">#</a></dt>
<dd><p>Create a dataset that generates preloaded elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_input</strong> – Any <code class="xref py py-obj docutils literal notranslate"><span class="pre">tf.data.Dataset</span></code> that generates examples as a dictionary of
tensors. Should not be repeating infinitely.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A dataset that generates the same examples.</p>
<p>This is similar to prefetching, except that examples are yielded through a
generator and loaded when this method is called rather than during pipeline
iteration.</p>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Repeater">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sleap.nn.data.dataset_ops.</span></span><span class="sig-name descname"><span class="pre">Repeater</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repeat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epochs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L181-L228"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Repeater" title="Permalink to this definition">#</a></dt>
<dd><p>Repeating transformer for use in pipelines.</p>
<p>Repeats the underlying elements indefinitely or for a number of “iterations” or
“epochs”.</p>
<p>If placed before batching, this can create mini-batches with examples from across
epoch boundaries.</p>
<p>If placed after batching, this may never reach examples that are dropped as
remainders if not shuffling.</p>
<dl class="simple">
<dt>The ideal pipeline follows the order:</dt><dd><p>shuffle -&gt; batch -&gt; repeat</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Repeater.repeat">
<span class="sig-name descname"><span class="pre">repeat</span></span><a class="headerlink" href="#sleap.nn.data.dataset_ops.Repeater.repeat" title="Permalink to this definition">#</a></dt>
<dd><p>If False, returns the input dataset unmodified.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Repeater.epochs">
<span class="sig-name descname"><span class="pre">epochs</span></span><a class="headerlink" href="#sleap.nn.data.dataset_ops.Repeater.epochs" title="Permalink to this definition">#</a></dt>
<dd><p>If -1, repeats the input dataset elements infinitely. Otherwise, loops
through the elements of the input dataset this number of times.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Repeater.input_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.Repeater.input_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Repeater.output_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.Repeater.output_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Repeater.transform_dataset">
<span class="sig-name descname"><span class="pre">transform_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L215-L228"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Repeater.transform_dataset" title="Permalink to this definition">#</a></dt>
<dd><p>Create a dataset with repeated loops over the input elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_input</strong> – Any dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">tf.data.Dataset</span></code> with elements containing the same keys, but repeated for
<a class="reference internal" href="#sleap.nn.data.dataset_ops.Repeater.epochs" title="sleap.nn.data.dataset_ops.Repeater.epochs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">epochs</span></code></a> iterations.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Shuffler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sleap.nn.data.dataset_ops.</span></span><span class="sig-name descname"><span class="pre">Shuffler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reshuffle_each_iteration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L14-L72"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler" title="Permalink to this definition">#</a></dt>
<dd><p>Shuffling transformer for use in pipelines.</p>
<p>The input to this transformer should not be repeated or batched (though the latter
would technically work). Repeating prevents the shuffling from going through “epoch”
or “iteration” loops in the underlying dataset.</p>
<p>Though batching before shuffling works and respects epoch boundaries, it is not
recommended as it implies that the same examples will always be optimized for
together within a mini-batch. This is not as effective for promoting generalization
as element-wise shuffling which produces new combinations of elements within mini-
batches.</p>
<dl class="simple">
<dt>The ideal pipeline follows the order:</dt><dd><p>shuffle -&gt; batch -&gt; repeat</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Shuffler.shuffle">
<span class="sig-name descname"><span class="pre">shuffle</span></span><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler.shuffle" title="Permalink to this definition">#</a></dt>
<dd><p>If False, returns the input dataset unmodified.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Shuffler.buffer_size">
<span class="sig-name descname"><span class="pre">buffer_size</span></span><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler.buffer_size" title="Permalink to this definition">#</a></dt>
<dd><p>Number of examples to keep in a buffer to sample uniformly from. If
set too high, it may take a long time to fill the initial buffer, especially
if it resets every epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Shuffler.reshuffle_each_iteration">
<span class="sig-name descname"><span class="pre">reshuffle_each_iteration</span></span><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler.reshuffle_each_iteration" title="Permalink to this definition">#</a></dt>
<dd><p>If True, resets the sampling buffer every iteration
through the underlying dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Shuffler.input_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler.input_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Shuffler.output_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler.output_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Shuffler.transform_dataset">
<span class="sig-name descname"><span class="pre">transform_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L53-L72"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Shuffler.transform_dataset" title="Permalink to this definition">#</a></dt>
<dd><p>Create a dataset with shuffled element order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ds_input</strong> – Any dataset.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A <code class="xref py py-obj docutils literal notranslate"><span class="pre">tf.data.Dataset</span></code> with elements containing the same keys, but in a
shuffled order, if enabled.</p>
<p>If the input dataset is repeated, this doesn’t really respect epoch
boundaries since it never reaches the end of the iterator.</p>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Unbatcher">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sleap.nn.data.dataset_ops.</span></span><span class="sig-name descname"><span class="pre">Unbatcher</span></span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L162-L177"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Unbatcher" title="Permalink to this definition">#</a></dt>
<dd><p>Unbatching transformer for use in pipelines.</p>
<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Unbatcher.input_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.Unbatcher.input_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that incoming elements are expected to have.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Unbatcher.output_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sleap.nn.data.dataset_ops.Unbatcher.output_keys" title="Permalink to this definition">#</a></dt>
<dd><p>Return the keys that outgoing elements will have.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sleap.nn.data.dataset_ops.Unbatcher.transform_dataset">
<span class="sig-name descname"><span class="pre">transform_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tensorflow.python.data.ops.dataset_ops.DatasetV2</span></span></span><a class="reference external" href="https://github.com/talmolab/sleap/blob/v1.2.8/sleap/nn/data/dataset_ops.py#L175-L177"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sleap.nn.data.dataset_ops.Unbatcher.transform_dataset" title="Permalink to this definition">#</a></dt>
<dd><p>Create a dataset with unbatched elements.</p>
</dd></dl>

</dd></dl>

</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By SLEAP Developers<br/>
  
      &copy; Copyright 2019–2022, Talmo Lab.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>